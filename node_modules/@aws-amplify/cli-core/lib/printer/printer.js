import { EOL } from 'os';
/**
 * The class that pretty prints to the output stream.
 */
export class Printer {
    minimumLogLevel;
    stdout;
    stderr;
    refreshRate;
    // Properties for ellipsis animation
    timer;
    timerSet;
    /**
     * Spinner frames
     */
    spinnerFrames = ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'];
    /**
     * Sets default configs
     */
    constructor(minimumLogLevel, stdout = process.stdout, stderr = process.stderr, refreshRate = 500) {
        this.minimumLogLevel = minimumLogLevel;
        this.stdout = stdout;
        this.stderr = stderr;
        this.refreshRate = refreshRate;
    }
    /**
     * Prints a given message to output stream followed by a newline.
     */
    print = (message) => {
        this.stdout.write(message);
        this.printNewLine();
    };
    /**
     * Prints a new line to output stream
     */
    printNewLine = () => {
        this.stdout.write(EOL);
    };
    /**
     * Logs a message to the output stream at the given log level followed by a newline
     */
    log(message, level = LogLevel.INFO) {
        const doLogMessage = level <= this.minimumLogLevel;
        if (!doLogMessage) {
            return;
        }
        const logMessage = this.minimumLogLevel === LogLevel.DEBUG
            ? `[${LogLevel[level]}] ${new Date().toISOString()}: ${message}`
            : message;
        if (level === LogLevel.ERROR) {
            this.stderr.write(logMessage);
        }
        else {
            this.stdout.write(logMessage);
        }
        this.printNewLine();
    }
    /**
     * Logs a message with animated spinner
     * If stdout is not a TTY, the message is logged at the info level without a spinner
     */
    async indicateProgress(message, callback) {
        try {
            this.startAnimatingSpinner(message);
            await callback();
        }
        finally {
            this.stopAnimatingSpinner();
        }
    }
    /**
     * Writes escape sequence to stdout
     */
    writeEscapeSequence(action) {
        if (!this.isTTY()) {
            return;
        }
        this.stdout.write(action);
    }
    /**
     * Checks if the environment is TTY
     */
    isTTY() {
        return this.stdout.isTTY;
    }
    /**
     * Starts animating spinner with a message.
     */
    startAnimatingSpinner(message) {
        if (this.timerSet) {
            throw new Error('Timer is already set to animate spinner, stop the current running timer before starting a new one.');
        }
        if (!this.isTTY()) {
            this.log(message, LogLevel.INFO);
            return;
        }
        let frameIndex = 0;
        this.timerSet = true;
        this.writeEscapeSequence(EscapeSequence.HIDE_CURSOR);
        this.timer = setInterval(() => {
            this.writeEscapeSequence(EscapeSequence.CLEAR_LINE);
            this.writeEscapeSequence(EscapeSequence.MOVE_CURSOR_TO_START);
            const frame = this.spinnerFrames[frameIndex];
            this.stdout.write(`${frame} ${message}`);
            frameIndex = (frameIndex + 1) % this.spinnerFrames.length;
        }, this.refreshRate);
    }
    /**
     * Stops animating spinner.
     */
    stopAnimatingSpinner() {
        if (!this.isTTY()) {
            return;
        }
        clearInterval(this.timer);
        this.timerSet = false;
        this.writeEscapeSequence(EscapeSequence.CLEAR_LINE);
        this.writeEscapeSequence(EscapeSequence.MOVE_CURSOR_TO_START);
        this.writeEscapeSequence(EscapeSequence.SHOW_CURSOR);
    }
}
export var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["ERROR"] = 0] = "ERROR";
    LogLevel[LogLevel["INFO"] = 1] = "INFO";
    LogLevel[LogLevel["DEBUG"] = 2] = "DEBUG";
})(LogLevel || (LogLevel = {}));
var EscapeSequence;
(function (EscapeSequence) {
    EscapeSequence["CLEAR_LINE"] = "\u001B[2K";
    EscapeSequence["MOVE_CURSOR_TO_START"] = "\u001B[0G";
    EscapeSequence["SHOW_CURSOR"] = "\u001B[?25h";
    EscapeSequence["HIDE_CURSOR"] = "\u001B[?25l";
})(EscapeSequence || (EscapeSequence = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcmludGVyL3ByaW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLElBQUksQ0FBQztBQUl6Qjs7R0FFRztBQUNILE1BQU0sT0FBTyxPQUFPO0lBYUM7SUFDQTtJQUNBO0lBQ0E7SUFmbkIsb0NBQW9DO0lBQzVCLEtBQUssQ0FBZ0M7SUFDckMsUUFBUSxDQUFVO0lBQzFCOztPQUVHO0lBQ0ssYUFBYSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFM0U7O09BRUc7SUFDSCxZQUNtQixlQUF5QixFQUN6QixTQUE2QixPQUFPLENBQUMsTUFBTSxFQUMzQyxTQUE2QixPQUFPLENBQUMsTUFBTSxFQUMzQyxjQUFzQixHQUFHO1FBSHpCLG9CQUFlLEdBQWYsZUFBZSxDQUFVO1FBQ3pCLFdBQU0sR0FBTixNQUFNLENBQXFDO1FBQzNDLFdBQU0sR0FBTixNQUFNLENBQXFDO1FBQzNDLGdCQUFXLEdBQVgsV0FBVyxDQUFjO0lBQ3pDLENBQUM7SUFFSjs7T0FFRztJQUNILEtBQUssR0FBRyxDQUFDLE9BQWUsRUFBRSxFQUFFO1FBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN0QixDQUFDLENBQUM7SUFFRjs7T0FFRztJQUNILFlBQVksR0FBRyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsQ0FBQyxDQUFDO0lBRUY7O09BRUc7SUFDSCxHQUFHLENBQUMsT0FBZSxFQUFFLFFBQWtCLFFB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QUFLLENBQUM7UUFDdEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2RCxDQUFDO0NBQ0Y7QUFFRCxNQUFNLENBQU4sSUFBWSxRQUlYO0FBSkQsV0FBWSxRQUFRO0lBQ2xCLHlDQUFTLENBQUE7SUFDVCx1Q0FBUSxDQUFBO0lBQ1IseUNBQVMsQ0FBQTtBQUNYLENBQUMsRUFKVyxRQUFRLEtBQVIsUUFBUSxRQUluQjtBQUVELElBQUssY0FLSjtBQUxELFdBQUssY0FBYztJQUNqQiwwQ0FBc0IsQ0FBQTtJQUN0QixvREFBZ0MsQ0FBQTtJQUNoQyw2Q0FBeUIsQ0FBQTtJQUN6Qiw2Q0FBeUIsQ0FBQTtBQUMzQixDQUFDLEVBTEksY0FBYyxLQUFkLGNBQWMsUUFLbEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFT0wgfSBmcm9tICdvcyc7XG5cbmV4cG9ydCB0eXBlIFJlY29yZFZhbHVlID0gc3RyaW5nIHwgbnVtYmVyIHwgc3RyaW5nW10gfCBEYXRlO1xuXG4vKipcbiAqIFRoZSBjbGFzcyB0aGF0IHByZXR0eSBwcmludHMgdG8gdGhlIG91dHB1dCBzdHJlYW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmludGVyIHtcbiAgLy8gUHJvcGVydGllcyBmb3IgZWxsaXBzaXMgYW5pbWF0aW9uXG4gIHByaXZhdGUgdGltZXI6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuICBwcml2YXRlIHRpbWVyU2V0OiBib29sZWFuO1xuICAvKipcbiAgICogU3Bpbm5lciBmcmFtZXNcbiAgICovXG4gIHByaXZhdGUgc3Bpbm5lckZyYW1lcyA9IFsn4qCLJywgJ+KgmScsICfioLknLCAn4qC4JywgJ+KgvCcsICfioLQnLCAn4qCmJywgJ+KgpycsICfioIcnLCAn4qCPJ107XG5cbiAgLyoqXG4gICAqIFNldHMgZGVmYXVsdCBjb25maWdzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbmltdW1Mb2dMZXZlbDogTG9nTGV2ZWwsXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGRvdXQ6IE5vZGVKUy5Xcml0ZVN0cmVhbSA9IHByb2Nlc3Muc3Rkb3V0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RkZXJyOiBOb2RlSlMuV3JpdGVTdHJlYW0gPSBwcm9jZXNzLnN0ZGVycixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJlZnJlc2hSYXRlOiBudW1iZXIgPSA1MDBcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBQcmludHMgYSBnaXZlbiBtZXNzYWdlIHRvIG91dHB1dCBzdHJlYW0gZm9sbG93ZWQgYnkgYSBuZXdsaW5lLlxuICAgKi9cbiAgcHJpbnQgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGRvdXQud3JpdGUobWVzc2FnZSk7XG4gICAgdGhpcy5wcmludE5ld0xpbmUoKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJpbnRzIGEgbmV3IGxpbmUgdG8gb3V0cHV0IHN0cmVhbVxuICAgKi9cbiAgcHJpbnROZXdMaW5lID0gKCkgPT4ge1xuICAgIHRoaXMuc3Rkb3V0LndyaXRlKEVPTCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvZ3MgYSBtZXNzYWdlIHRvIHRoZSBvdXRwdXQgc3RyZWFtIGF0IHRoZSBnaXZlbiBsb2cgbGV2ZWwgZm9sbG93ZWQgYnkgYSBuZXdsaW5lXG4gICAqL1xuICBsb2cobWVzc2FnZTogc3RyaW5nLCBsZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgY29uc3QgZG9Mb2dNZXNzYWdlID0gbGV2ZWwgPD0gdGhpcy5taW5pbXVtTG9nTGV2ZWw7XG5cbiAgICBpZiAoIWRvTG9nTWVzc2FnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ01lc3NhZ2UgPVxuICAgICAgdGhpcy5taW5pbXVtTG9nTGV2ZWwgPT09IExvZ0xldmVsLkRFQlVHXG4gICAgICAgID8gYFske0xvZ0xldmVsW2xldmVsXX1dICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfTogJHttZXNzYWdlfWBcbiAgICAgICAgOiBtZXNzYWdlO1xuXG4gICAgaWYgKGxldmVsID09PSBMb2dMZXZlbC5FUlJPUikge1xuICAgICAgdGhpcy5zdGRlcnIud3JpdGUobG9nTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3Rkb3V0LndyaXRlKGxvZ01lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRoaXMucHJpbnROZXdMaW5lKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBhIG1lc3NhZ2Ugd2l0aCBhbmltYXRlZCBzcGlubmVyXG4gICAqIElmIHN0ZG91dCBpcyBub3QgYSBUVFksIHRoZSBtZXNzYWdlIGlzIGxvZ2dlZCBhdCB0aGUgaW5mbyBsZXZlbCB3aXRob3V0IGEgc3Bpbm5lclxuICAgKi9cbiAgYXN5bmMgaW5kaWNhdGVQcm9ncmVzcyhtZXNzYWdlOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc3RhcnRBbmltYXRpbmdTcGlubmVyKG1lc3NhZ2UpO1xuICAgICAgYXdhaXQgY2FsbGJhY2soKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5zdG9wQW5pbWF0aW5nU3Bpbm5lcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgZXNjYXBlIHNlcXVlbmNlIHRvIHN0ZG91dFxuICAgKi9cbiAgcHJpdmF0ZSB3cml0ZUVzY2FwZVNlcXVlbmNlKGFjdGlvbjogRXNjYXBlU2VxdWVuY2UpIHtcbiAgICBpZiAoIXRoaXMuaXNUVFkoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3Rkb3V0LndyaXRlKGFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBlbnZpcm9ubWVudCBpcyBUVFlcbiAgICovXG4gIHByaXZhdGUgaXNUVFkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Rkb3V0LmlzVFRZO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBhbmltYXRpbmcgc3Bpbm5lciB3aXRoIGEgbWVzc2FnZS5cbiAgICovXG4gIHByaXZhdGUgc3RhcnRBbmltYXRpbmdTcGlubmVyKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIGlmICh0aGlzLnRpbWVyU2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaW1lciBpcyBhbHJlYWR5IHNldCB0byBhbmltYXRlIHNwaW5uZXIsIHN0b3AgdGhlIGN1cnJlbnQgcnVubmluZyB0aW1lciBiZWZvcmUgc3RhcnRpbmcgYSBuZXcgb25lLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzVFRZKCkpIHtcbiAgICAgIHRoaXMubG9nKG1lc3NhZ2UsIExvZ0xldmVsLklORk8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBmcmFtZUluZGV4ID0gMDtcbiAgICB0aGlzLnRpbWVyU2V0ID0gdHJ1ZTtcbiAgICB0aGlzLndyaXRlRXNjYXBlU2VxdWVuY2UoRXNjYXBlU2VxdWVuY2UuSElERV9DVVJTT1IpO1xuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLndyaXRlRXNjYXBlU2VxdWVuY2UoRXNjYXBlU2VxdWVuY2UuQ0xFQVJfTElORSk7XG4gICAgICB0aGlzLndyaXRlRXNjYXBlU2VxdWVuY2UoRXNjYXBlU2VxdWVuY2UuTU9WRV9DVVJTT1JfVE9fU1RBUlQpO1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLnNwaW5uZXJGcmFtZXNbZnJhbWVJbmRleF07XG4gICAgICB0aGlzLnN0ZG91dC53cml0ZShgJHtmcmFtZX0gJHttZXNzYWdlfWApO1xuICAgICAgZnJhbWVJbmRleCA9IChmcmFtZUluZGV4ICsgMSkgJSB0aGlzLnNwaW5uZXJGcmFtZXMubGVuZ3RoO1xuICAgIH0sIHRoaXMucmVmcmVzaFJhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFuaW1hdGluZyBzcGlubmVyLlxuICAgKi9cbiAgcHJpdmF0ZSBzdG9wQW5pbWF0aW5nU3Bpbm5lcigpIHtcbiAgICBpZiAoIXRoaXMuaXNUVFkoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgdGhpcy50aW1lclNldCA9IGZhbHNlO1xuICAgIHRoaXMud3JpdGVFc2NhcGVTZXF1ZW5jZShFc2NhcGVTZXF1ZW5jZS5DTEVBUl9MSU5FKTtcbiAgICB0aGlzLndyaXRlRXNjYXBlU2VxdWVuY2UoRXNjYXBlU2VxdWVuY2UuTU9WRV9DVVJTT1JfVE9fU1RBUlQpO1xuICAgIHRoaXMud3JpdGVFc2NhcGVTZXF1ZW5jZShFc2NhcGVTZXF1ZW5jZS5TSE9XX0NVUlNPUik7XG4gIH1cbn1cblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICBFUlJPUiA9IDAsXG4gIElORk8gPSAxLFxuICBERUJVRyA9IDIsXG59XG5cbmVudW0gRXNjYXBlU2VxdWVuY2Uge1xuICBDTEVBUl9MSU5FID0gJ1xceDFiWzJLJyxcbiAgTU9WRV9DVVJTT1JfVE9fU1RBUlQgPSAnXFx4MWJbMEcnLFxuICBTSE9XX0NVUlNPUiA9ICdcXHgxYls/MjVoJyxcbiAgSElERV9DVVJTT1IgPSAnXFx4MWJbPzI1bCcsXG59XG4iXX0=